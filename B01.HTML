<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro de Usuarios</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: #f4f4f4;
    }
    .container {
      margin-top: 50px;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
    }
    .error-message {
      color: red;
      font-size: 0.85rem;
      display: none;
    }
    .success-message {
      color: green;
      font-size: 1rem;
      display: none;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<div class="container col-md-6">
  <h2 class="text-center mb-4 fw-bold" style = "color: green">Registro de Usuarios</h2>
  <form id="registroForm">
    <div class="mb-3">
      <label for="nombres" class="form-label">Nombres *</label>
      <input type="text" class="form-control" id="nombres" placeholder="Ej: Juan">
      <div class="error-message" id="errorNombres">Este campo es obligatorio</div>
    </div>

    <div class="mb-3">
      <label for="apellidos" class="form-label">Apellidos *</label>
      <input type="text" class="form-control" id="apellidos" placeholder="Ej: Pérez">
      <div class="error-message" id="errorApellidos">Este campo es obligatorio</div>
    </div>

    <div class="mb-3">
      <label for="rut" class="form-label">RUT *</label>
      <input type="text" class="form-control" id="rut" placeholder="12345678-9">
      <div class="error-message" id="errorRut">Formato incorrecto</div>
    </div>

    <div class="mb-3">
      <label for="domicilio" class="form-label">Domicilio *</label>
      <input type="text" class="form-control" id="domicilio" placeholder="Ej: Calle 123">
      <div class="error-message" id="errorDomicilio">Este campo es obligatorio</div>
    </div>

    <div class="mb-3">
      <label for="correo" class="form-label">Correo electrónico *</label>
      <input type="email" class="form-control" id="correo" placeholder="alguien@example.com">
      <div class="error-message" id="errorCorreo">Correo inválido</div>
    </div>

    <div class="mb-3">
      <label for="telefono" class="form-label">Teléfono *</label>
      <input type="tel" class="form-control" id="telefono" placeholder="+56912345678">
      <div class="error-message" id="errorTelefono">Teléfono inválido</div>
    </div>
    

    <p class="text-danger small">* Todos los campos son obligatorios</p>
    <div class="d-flex justify-content-end gap-2">
      <button type="reset" class="btn btn-secondary">Cancelar</button>
      <button type="submit" class="btn btn-success">Crear perfil</button>
    </div>
  </form>

  <div class="success-message" id="successMessage">✅ ¡Registro exitoso!</div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  document.getElementById('registroForm').addEventListener('submit', function(e) {
    e.preventDefault();

    // Limpiar mensajes
    document.querySelectorAll('.error-message').forEach(msg => msg.style.display = 'none');
    document.getElementById('successMessage').style.display = 'none';

    let valido = true;

    let nombres = document.getElementById('nombres').value.trim();
    let apellidos = document.getElementById('apellidos').value.trim();
    let rut = document.getElementById('rut').value.trim();
    let domicilio = document.getElementById('domicilio').value.trim();
    let correo = document.getElementById('correo').value.trim();
    let telefono = document.getElementById('telefono').value.trim();

    if (!nombres) {
      document.getElementById('errorNombres').style.display = 'block';
      valido = false;
    }
    if (!apellidos) {
      document.getElementById('errorApellidos').style.display = 'block';
      valido = false;
    }
    if (!rut || !/^(\d{7,8}-[0-9kK])$/.test(rut)) {
      document.getElementById('errorRut').style.display = 'block';
      valido = false;
    }
    if (!domicilio) {
      document.getElementById('errorDomicilio').style.display = 'block';
      valido = false;
    }
    if (!correo || !/\S+@\S+\.\S+/.test(correo)) {
      document.getElementById('errorCorreo').style.display = 'block';
      valido = false;
    }
    if (!telefono || !/^\+?\d{8,15}$/.test(telefono)) {
      document.getElementById('errorTelefono').style.display = 'block';
      valido = false;
    }

    if (valido) {
      document.getElementById('successMessage').style.display = 'block';
      this.reset();
    }
  });
</script>
</body>
</html>
